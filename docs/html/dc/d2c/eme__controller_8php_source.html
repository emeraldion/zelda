<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>Emeraldion Lodge (codename Zelda): /Users/delphine/Development/SVN/emeraldion.it/zelda/controllers/eme_controller.php Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Emeraldion Lodge (codename Zelda)
   &#160;<span id="projectnumber">0.1beta</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('dc/d2c/eme__controller_8php_source.html','../../');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">eme_controller.php</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../dc/d2c/eme__controller_8php.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;&lt;?php</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;        require_once(<span class="stringliteral">&#39;base_controller.php&#39;</span>);</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;        require_once(dirname(__FILE__) . <span class="stringliteral">&#39;/../models/visit.php&#39;</span>);</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;        require_once(dirname(__FILE__) . <span class="stringliteral">&#39;/../models/blocked_ip.php&#39;</span>);</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;        require_once(dirname(__FILE__) . <span class="stringliteral">&#39;/../models/blocked_visit.php&#39;</span>);</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;        require_once(dirname(__FILE__) . <span class="stringliteral">&#39;/../helpers/email.php&#39;</span>);</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;        require_once(dirname(__FILE__) . <span class="stringliteral">&#39;/../helpers/cookie.php&#39;</span>);</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;        require_once(dirname(__FILE__) . <span class="stringliteral">&#39;/../helpers/opengraph.php&#39;</span>);</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;        require_once(dirname(__FILE__) . <span class="stringliteral">&#39;/../helpers/time.php&#39;</span>);</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;        require_once(dirname(__FILE__) . <span class="stringliteral">&#39;/../helpers/morse.php&#39;</span>);</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;        require_once(dirname(__FILE__) . <span class="stringliteral">&#39;/../helpers/base64.php&#39;</span>);</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;        require_once(dirname(__FILE__) . <span class="stringliteral">&#39;/../helpers/sanskrit.php&#39;</span>);</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div>
<div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="../../d5/d30/class_eme_controller.html">   20</a></span>&#160;        <span class="keyword">class </span><a class="code" href="../../d5/d30/class_eme_controller.html">EmeController</a> <span class="keyword">extends</span> <a class="code" href="../../d8/d0d/class_base_controller.html">BaseController</a></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;        {</div>
<div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="../../d5/d30/class_eme_controller.html#ac5e0168679f0ce943828b9f6e82b8e40">   25</a></span>&#160;                <span class="keyword">const</span> <a class="code" href="../../d5/d30/class_eme_controller.html#ac5e0168679f0ce943828b9f6e82b8e40">LOG_VISITS</a> = TRUE;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="../../d5/d30/class_eme_controller.html#a15fe3d17231bfbe241f9063204d567c4">   31</a></span>&#160;                <span class="keyword">protected</span> <a class="code" href="../../d5/d30/class_eme_controller.html#a15fe3d17231bfbe241f9063204d567c4">$credentials</a>;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="../../d5/d30/class_eme_controller.html#a9fbd95bfcdf27d802a8c7938529a61ba">   36</a></span>&#160;                <span class="keyword">protected</span> <a class="code" href="../../d5/d30/class_eme_controller.html#a9fbd95bfcdf27d802a8c7938529a61ba">$keywords</a> = array();</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="../../d5/d30/class_eme_controller.html#a87b032cba06009e3467abf1c8018d960">   41</a></span>&#160;                <span class="keyword">protected</span> <a class="code" href="../../d5/d30/class_eme_controller.html#a87b032cba06009e3467abf1c8018d960">$description</a>;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="../../d5/d30/class_eme_controller.html#a4be4055f3361d4800e16bc2e2e38cda6">   43</a></span>&#160;                <span class="keyword">protected</span> <span class="keyword">function</span> <a class="code" href="../../d5/d30/class_eme_controller.html#a4be4055f3361d4800e16bc2e2e38cda6">init</a>()</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;                {</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;                        parent::init();</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                        $this-&gt;description = <a class="code" href="../../d4/d9b/common_8inc_8php.html#a367c038113690266a013d2e04a42a3b1">l</a>(<span class="stringliteral">&#39;Personal website of Claudio Procida, hosting my projects and my blog&#39;</span>);</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;                        $this-&gt;credentials = $this-&gt;<a class="code" href="../../d5/d30/class_eme_controller.html#acf78078587e52535ec113e7bbfd05d95">get_credentials</a>();</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;                        $this-&gt;opengraph = <span class="keyword">new</span> <a class="code" href="../../d1/d57/class_open_graph.html">OpenGraph</a>(array(</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;                                <span class="stringliteral">&#39;description&#39;</span> =&gt; $this-&gt;description,</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                                <span class="stringliteral">&#39;image&#39;</span> =&gt; sprintf(<span class="stringliteral">&#39;http://%s/assets/images/claudio.jpg&#39;</span>, $_SERVER[<span class="stringliteral">&#39;HTTP_HOST&#39;</span>]),</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                                <span class="stringliteral">&#39;title&#39;</span> =&gt; $this-&gt;<a class="code" href="../../da/d18/diario__layout_8php.html#af1512ace55ecebe0df8e48dc1e423cea">title</a>,</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                                <span class="stringliteral">&#39;url&#39;</span> =&gt; $this-&gt;<a class="code" href="../../d8/d0d/class_base_controller.html#a2a83f7656a87b749165ffa9ed37f5978">url_to_myself</a>(FALSE),</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                                <span class="stringliteral">&#39;type&#39;</span> =&gt; <span class="stringliteral">&#39;website&#39;</span>,</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                        ));</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                        <span class="comment">//$this-&gt;before_filter(&#39;spot_people&#39;);</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                }</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="../../d5/d30/class_eme_controller.html#a149eb92716c1084a935e04a8d95f7347">   60</a></span>&#160;                <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="../../d5/d30/class_eme_controller.html#a149eb92716c1084a935e04a8d95f7347">index</a>()</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                }</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="../../d5/d30/class_eme_controller.html#a25361cb921cef2da42b453e6e22ebdde">   71</a></span>&#160;                <span class="keyword">protected</span> <span class="keyword">function</span> <a class="code" href="../../d5/d30/class_eme_controller.html#a25361cb921cef2da42b453e6e22ebdde">set_credentials</a>($realname = <span class="stringliteral">&#39;&#39;</span>, $email = <span class="stringliteral">&#39;&#39;</span>, $url = <span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                {</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                        <a class="code" href="../../d5/d30/class_eme_controller.html#a15fe3d17231bfbe241f9063204d567c4">$credentials</a> = $realname . <span class="stringliteral">&#39;%%&#39;</span> . $email . <span class="stringliteral">&#39;%%&#39;</span> . $url;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                        $encoded = <a class="code" href="../../d4/d1c/class_base64.html#af8efa346aa4fda8bae4cf41a0b6889f9">Base64::encode</a>(<a class="code" href="../../d5/d30/class_eme_controller.html#a15fe3d17231bfbe241f9063204d567c4">$credentials</a>);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                        <a class="code" href="../../d6/d8a/class_cookie.html#afc3745a1ef9c6c60548b56cf4eb012e3">Cookie::set</a>(<span class="stringliteral">&#39;_vc&#39;</span>, $encoded, <a class="code" href="../../d6/d2c/class_time.html#adecadd7ce4bb0bb73799bc6dce3e488c">Time::next_year</a>());</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                }</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="../../d5/d30/class_eme_controller.html#acf78078587e52535ec113e7bbfd05d95">   82</a></span>&#160;                <span class="keyword">protected</span> <span class="keyword">function</span> <a class="code" href="../../d5/d30/class_eme_controller.html#acf78078587e52535ec113e7bbfd05d95">get_credentials</a>()</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                {</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                        $parts = array(<span class="stringliteral">&#39;&#39;</span>, <span class="stringliteral">&#39;&#39;</span>, <span class="stringliteral">&#39;&#39;</span>);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                        <span class="keywordflow">if</span> (($encoded = <a class="code" href="../../d6/d8a/class_cookie.html#af5ea6a083ddb07beb8a30dd32e309ceb">Cookie::get</a>(<span class="stringliteral">&#39;_vc&#39;</span>)) !== NULL)</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                        {</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                                <a class="code" href="../../d5/d30/class_eme_controller.html#a15fe3d17231bfbe241f9063204d567c4">$credentials</a> = <a class="code" href="../../d4/d1c/class_base64.html#a7781ed67bd43225de91448825ebf35b5">Base64::decode</a>($encoded);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                                $parts = explode(<span class="stringliteral">&#39;%%&#39;</span>, <a class="code" href="../../d5/d30/class_eme_controller.html#a15fe3d17231bfbe241f9063204d567c4">$credentials</a>);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                        }</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                        <span class="keywordflow">return</span> array_combine(array(<span class="stringliteral">&#39;realname&#39;</span>, <span class="stringliteral">&#39;email&#39;</span>, <span class="stringliteral">&#39;url&#39;</span>), $parts);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                }</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="../../d5/d30/class_eme_controller.html#a77fc2e3619d22e9c31b8946db72af129">   97</a></span>&#160;                <span class="keyword">protected</span> <span class="keyword">function</span> <a class="code" href="../../d5/d30/class_eme_controller.html#a77fc2e3619d22e9c31b8946db72af129">check_auth</a>()</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                {</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                        <span class="keywordflow">if</span> (!<a class="code" href="../../d6/ddd/class_login.html#a298167a61760dffe7d3b2522c22f44d8">Login::is_logged_in</a>())</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                        {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                                $_SESSION[<span class="stringliteral">&#39;redirect_to&#39;</span>] = array(<span class="stringliteral">&#39;controller&#39;</span> =&gt; $this-&gt;name, <span class="stringliteral">&#39;action&#39;</span> =&gt; $this-&gt;action);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                                $this-&gt;<a class="code" href="../../d8/d0d/class_base_controller.html#a0bd3c066205a088747096a9537751a86">flash</a>(<span class="stringliteral">&#39;Login is required to access the page you requested!&#39;</span>, <span class="stringliteral">&#39;warning&#39;</span>);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                                $this-&gt;<a class="code" href="../../d8/d0d/class_base_controller.html#ac31201044ed29234c71cd780e180331e">redirect_to</a>(array(<span class="stringliteral">&#39;controller&#39;</span> =&gt; <span class="stringliteral">&#39;login&#39;</span>));</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                        }</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                }</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div>
<div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="../../d5/d30/class_eme_controller.html#af65ca19d22ac2d69053bfb6ce9a561d1">  111</a></span>&#160;                <span class="keyword">protected</span> <span class="keyword">function</span> <a class="code" href="../../d5/d30/class_eme_controller.html#af65ca19d22ac2d69053bfb6ce9a561d1">log_visit</a>()</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                {</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                        <span class="keywordflow">if</span> (self::LOG_VISITS)</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                        {</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                                $visit = <span class="keyword">new</span> <a class="code" href="../../dd/dd2/class_visit.html">Visit</a>();</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                                $visit-&gt;save();</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                        }</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                }</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div>
<div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="../../d5/d30/class_eme_controller.html#abbe433382cdd930687f56c90275fcacd">  124</a></span>&#160;                <span class="keyword">protected</span> <span class="keyword">function</span> <a class="code" href="../../d5/d30/class_eme_controller.html#abbe433382cdd930687f56c90275fcacd">block_ip</a>()</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                {</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                        <span class="comment">// Return if BLOCK_IPS is not set</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                        <span class="keywordflow">if</span> (!BLOCK_IPS)</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="../../d0/db5/class_blocked_ip.html#a6b289972a23e9289af4818e7a18a6947">BlockedIp::is_blocked</a>($_SERVER[<span class="stringliteral">&#39;REMOTE_ADDR&#39;</span>]))</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                        {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                                $bv = <span class="keyword">new</span> <a class="code" href="../../d5/db0/class_blocked_visit.html">BlockedVisit</a>();</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                                $bv-&gt;save();</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                                die(<a class="code" href="../../d4/d9b/common_8inc_8php.html#a367c038113690266a013d2e04a42a3b1">l</a>(<span class="stringliteral">&#39;Sorry, your IP address is currently blacklisted&#39;</span>));</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                        }</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                }</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="../../d5/d30/class_eme_controller.html#a9ae8ac6eb50c246060f6cdbf4c82b652">  141</a></span>&#160;                <span class="keyword">protected</span> <span class="keyword">function</span> <a class="code" href="../../d5/d30/class_eme_controller.html#a9ae8ac6eb50c246060f6cdbf4c82b652">add_acronyms</a>()</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                {</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                        $acronyms = array(<span class="stringliteral">&#39;URI&#39;</span> =&gt; <span class="stringliteral">&#39;Uniform Resource Identifier&#39;</span>,</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                                <span class="stringliteral">&#39;URL&#39;</span> =&gt; <span class="stringliteral">&#39;Uniform Resource Locator&#39;</span>,</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                                <span class="stringliteral">&#39;CSS&#39;</span> =&gt; <span class="stringliteral">&#39;Cascading Style Sheets&#39;</span>,</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                                <span class="stringliteral">&#39;JSP&#39;</span> =&gt; <span class="stringliteral">&#39;JavaServer Pages&#39;</span>,</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                                <span class="stringliteral">&#39;XML&#39;</span> =&gt; <span class="stringliteral">&#39;eXtensible Markup Language&#39;</span>,</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                                <span class="stringliteral">&#39;SMS&#39;</span> =&gt; <span class="stringliteral">&#39;Short Message System&#39;</span>,</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                                <span class="stringliteral">&#39;JSF&#39;</span> =&gt; <span class="stringliteral">&#39;JavaServer Faces&#39;</span>,</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                                <span class="stringliteral">&#39;HTTP&#39;</span> =&gt; <span class="stringliteral">&#39;HyperText Transfer Protocol&#39;</span>,</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                                <span class="stringliteral">&#39;GWT&#39;</span> =&gt; <span class="stringliteral">&#39;Google Web Toolkit&#39;</span>);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                        $patterns = array();</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                        $replacements = array();</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                        <span class="keywordflow">foreach</span> ($acronyms as $acronym =&gt; $explanation)</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                        {</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                                $expl = <a class="code" href="../../d4/d9b/common_8inc_8php.html#a5a85e15b130334775e74778eff594a8a">h</a>($explanation);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                                $patterns[] = <span class="stringliteral">&quot;/([^_\-a-z0-9])($acronym)([^_\-a-z0-9])/i&quot;</span>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                                $replacements[] = <span class="stringliteral">&quot;$1&lt;acronym title=\&quot;$expl\&quot;&gt;$2&lt;/acronym&gt;$3&quot;</span>;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                        }</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                        $this-&gt;response-&gt;body = preg_replace($patterns,</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                                $replacements,</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                                $this-&gt;response-&gt;body);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                }</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div>
<div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="../../d5/d30/class_eme_controller.html#a88ef165981aa850306ce50cb01331357">  169</a></span>&#160;                <span class="keyword">protected</span> <span class="keyword">function</span> <a class="code" href="../../d5/d30/class_eme_controller.html#a88ef165981aa850306ce50cb01331357">morse_encode</a>()</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                {</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                        $this-&gt;response-&gt;body = preg_replace(</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                                array(</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                                        <span class="stringliteral">&#39;/--&gt;/&#39;</span>,</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                                        <span class="stringliteral">&#39;/\/\*/&#39;</span>,</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                                        <span class="stringliteral">&#39;/\*\//&#39;</span>,</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                                        <span class="stringliteral">&#39;/&gt;([^&lt;]*)&lt;/e&#39;</span>,</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                                        <span class="stringliteral">&#39;/(alt|title|content)=&quot;([^&quot;]*)&quot;/e&#39;</span>,</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                                        <span class="stringliteral">&#39;/ï¿½ï¿½ï¿½/&#39;</span>,</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                                        <span class="stringliteral">&#39;/###/&#39;</span>,</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                                        <span class="stringliteral">&#39;/%%%/&#39;</span>,</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                                ),</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                                array(</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                                        <span class="stringliteral">&#39;ï¿½ï¿½ï¿½&#39;</span>,</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                                        <span class="stringliteral">&#39;###&#39;</span>,</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                                        <span class="stringliteral">&#39;%%%&#39;</span>,</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                                        <span class="stringliteral">&quot;&#39;&gt;&#39;.Morse::encode(&#39;\\1&#39;).&#39;&lt;&#39;&quot;</span>,</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                                        <span class="stringliteral">&quot;&#39;\\1=\&quot;&#39;.Morse::encode(&#39;\\2&#39;).&#39;\&quot;&#39;&quot;</span>,</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                                        <span class="stringliteral">&#39;--&gt;&#39;</span>,</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                                        <span class="stringliteral">&#39;/*&#39;</span>,</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                                        <span class="stringliteral">&#39;*/&#39;</span>,</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                                ),</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                                $this-&gt;response-&gt;body);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                }</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div>
<div class="line"><a name="l00199"></a><span class="lineno"><a class="line" href="../../d5/d30/class_eme_controller.html#aaac4be1eb27d9bcb9199e71f2dc20bc3">  199</a></span>&#160;                <span class="keyword">protected</span> <span class="keyword">function</span> <a class="code" href="../../d5/d30/class_eme_controller.html#aaac4be1eb27d9bcb9199e71f2dc20bc3">shrink_html</a>()</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                {</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                        $this-&gt;response-&gt;body = preg_replace(</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                                array(</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                                        <span class="stringliteral">&#39;/\s+|\n/&#39;</span>,</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                                        <span class="stringliteral">&#39;/&gt;\s+&lt;/&#39;</span>,</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                                        <span class="stringliteral">&quot;/&gt; &lt;(\/?)(p|link|meta|div|h|body|title|script|style|!--|ul|ol|li|dl|dd|dt|option|th|td|tr|table|tbody|thead|tfoot)/&quot;</span>,</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                                        <span class="stringliteral">&quot;/&lt;(p|link|meta|div|h|body|title|script|style|!--|ul|ol|li|dl|dd|dt|option|th|td|tr|table|tbody|thead|tfoot)([^&gt;]*)&gt; &lt;/&quot;</span>,</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                                ),</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                                array(</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                                        <span class="charliteral">&#39; &#39;</span>,</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                                        <span class="stringliteral">&#39;&gt; &lt;&#39;</span>,</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                                        <span class="stringliteral">&#39;&gt;&lt;\1\2&#39;</span>,</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                                        <span class="stringliteral">&#39;&lt;\1\2&gt;&lt;&#39;</span>,</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                                ),</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                                $this-&gt;response-&gt;body);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                }</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div>
<div class="line"><a name="l00224"></a><span class="lineno"><a class="line" href="../../d5/d30/class_eme_controller.html#a349348cfb9b05604994c6b98b66857ec">  224</a></span>&#160;                <span class="keyword">protected</span> <span class="keyword">function</span> <a class="code" href="../../d5/d30/class_eme_controller.html#a349348cfb9b05604994c6b98b66857ec">sanskrit_ambra</a>()</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                        $this-&gt;response-&gt;body = preg_replace(</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                                array(</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                                        <span class="stringliteral">&quot;/&amp;([^;]+);/&quot;</span>,</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                                        <span class="stringliteral">&quot;/&gt;([^&lt;]*)&lt;/e&quot;</span>,</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                                        <span class="stringliteral">&quot;/&lt;&amp;([^;]+);&gt;/&quot;</span>,</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                                ),</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                                array(</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                                        <span class="stringliteral">&quot;&lt;&amp;\\1;&gt;&quot;</span>,</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                                        <span class="stringliteral">&quot;&#39;&gt;&#39;.Sanskrit::encode(&#39;\\1&#39;).&#39;&lt;&#39;&quot;</span>,</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                                        <span class="stringliteral">&quot;&amp;\\1;&quot;</span>,</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                                ),</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                                $this-&gt;response-&gt;body);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                }</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div>
<div class="line"><a name="l00244"></a><span class="lineno"><a class="line" href="../../d5/d30/class_eme_controller.html#a17e8263861e78f87ad581baf9e0c1ecc">  244</a></span>&#160;                <span class="keyword">protected</span> <span class="keyword">function</span> <a class="code" href="../../d5/d30/class_eme_controller.html#a17e8263861e78f87ad581baf9e0c1ecc">spot_people</a>()</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                        <span class="keywordflow">if</span> (preg_match(<span class="stringliteral">&quot;/^194\.242\./&quot;</span>, $_SERVER[<span class="stringliteral">&#39;REMOTE_ADDR&#39;</span>]) &gt; 0)</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                        {</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                                <span class="keywordflow">if</span> (!isset($_COOKIE[<span class="stringliteral">&#39;_aknet&#39;</span>]))</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                                {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                                        $email = <span class="keyword">new</span> <a class="code" href="../../df/d6e/class_email.html">Email</a>(array(<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;Emeraldion Lodge&#39;</span>,</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                                                <span class="stringliteral">&#39;email&#39;</span> =&gt; <span class="stringliteral">&#39;webmaster@emeraldion.it&#39;</span>,</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                                                <span class="stringliteral">&#39;text&#39;</span> =&gt; <span class="stringliteral">&#39;Ti informo che ï¿½ stata effettuata una visita da aknet.it&#39;</span>));</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                                        $email-&gt;send();</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                                        <a class="code" href="../../d6/d8a/class_cookie.html#afc3745a1ef9c6c60548b56cf4eb012e3">Cookie::set</a>(<span class="stringliteral">&#39;_aknet&#39;</span>, TRUE, <a class="code" href="../../d6/d2c/class_time.html#a62e4542bcd27fd269671570823452a67">Time::tomorrow</a>());</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                                }</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                        }</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (preg_match(<span class="stringliteral">&quot;/^147\.163\./&quot;</span>, $_SERVER[<span class="stringliteral">&#39;REMOTE_ADDR&#39;</span>]) &gt; 0)</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                        {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                                <span class="keywordflow">if</span> (!isset($_COOKIE[<span class="stringliteral">&#39;_unipa&#39;</span>]))</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                                {</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                                        $email = <span class="keyword">new</span> <a class="code" href="../../df/d6e/class_email.html">Email</a>(array(<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;Emeraldion Lodge&#39;</span>,</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                                                <span class="stringliteral">&#39;email&#39;</span> =&gt; <span class="stringliteral">&#39;webmaster@emeraldion.it&#39;</span>,</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                                                <span class="stringliteral">&#39;text&#39;</span> =&gt; <span class="stringliteral">&#39;Ti informo che ï¿½ stata effettuata una visita da unipa.it&#39;</span>));</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                                        $email-&gt;send();</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                                        <a class="code" href="../../d6/d8a/class_cookie.html#afc3745a1ef9c6c60548b56cf4eb012e3">Cookie::set</a>(<span class="stringliteral">&#39;_unipa&#39;</span>, TRUE, <a class="code" href="../../d6/d2c/class_time.html#a62e4542bcd27fd269671570823452a67">Time::tomorrow</a>());</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                                }</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                        }</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                }</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div>
<div class="line"><a name="l00278"></a><span class="lineno"><a class="line" href="../../d5/d30/class_eme_controller.html#a2f52339da87592a266a56f695c55be26">  278</a></span>&#160;                <span class="keyword">protected</span> <span class="keyword">function</span> <a class="code" href="../../d5/d30/class_eme_controller.html#a2f52339da87592a266a56f695c55be26">load_part_contents</a>($filename)</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                {</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                        $localized_filename = @preg_replace(<span class="stringliteral">&quot;/\.([^\.]+)$/&quot;</span>,</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                                <span class="stringliteral">&quot;-{$_COOKIE[&#39;hl&#39;]}.\\1&quot;</span>,</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                                $filename);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                        <span class="keywordflow">if</span> (file_exists($localized_filename))</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                        {</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                                $contents = file_get_contents($localized_filename);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                        }</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                        {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                                <span class="keywordflow">if</span> (!file_exists($filename))</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                                {</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                                        <a class="code" href="../../d8/dcb/class_h_t_t_p.html#a72b15a7fdc386be5e91c4a7ae7124ac0">HTTP::error</a>(500);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                                }</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                                $contents = file_get_contents($filename);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                        }</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                        <span class="keywordflow">return</span> $this-&gt;<a class="code" href="../../d8/d0d/class_base_controller.html#a5cb956e06c6bb54cccaf5ff2a03c9f26">strip_external_php_tags</a>($contents);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                }</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div>
<div class="line"><a name="l00305"></a><span class="lineno"><a class="line" href="../../d5/d30/class_eme_controller.html#a4d752a658ce2067dd7d1b8514fdf3771">  305</a></span>&#160;                <span class="keyword">protected</span> <span class="keyword">function</span> <a class="code" href="../../d5/d30/class_eme_controller.html#a4d752a658ce2067dd7d1b8514fdf3771">include_localized</a>($filename)</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                {</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                        $localized_filename = @preg_replace(<span class="stringliteral">&quot;/\.([^\.]+)$/&quot;</span>,</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                                <span class="stringliteral">&quot;-{$_COOKIE[&#39;hl&#39;]}.\\1&quot;</span>,</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                                $filename);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                        <span class="keywordflow">if</span> (file_exists($localized_filename))</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                        {</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                                include($localized_filename);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                        }</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                        {</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                                <span class="keywordflow">if</span> (!file_exists($filename))</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                                {</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                                        <a class="code" href="../../d8/dcb/class_h_t_t_p.html#a72b15a7fdc386be5e91c4a7ae7124ac0">HTTP::error</a>(500);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                                }</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                                include($filename);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                        }</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                }</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        }</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;?&gt;</div>
<div class="ttc" id="common_8inc_8php_html_a367c038113690266a013d2e04a42a3b1"><div class="ttname"><a href="../../d4/d9b/common_8inc_8php.html#a367c038113690266a013d2e04a42a3b1">l</a></div><div class="ttdeci">l($str)</div><div class="ttdoc">Shorthand method for the Localization::localize method. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d9b/common_8inc_8php_source.html#l00141">common.inc.php:141</a></div></div>
<div class="ttc" id="class_eme_controller_html_a25361cb921cef2da42b453e6e22ebdde"><div class="ttname"><a href="../../d5/d30/class_eme_controller.html#a25361cb921cef2da42b453e6e22ebdde">EmeController\set_credentials</a></div><div class="ttdeci">set_credentials($realname= '', $email= '', $url= '')</div><div class="ttdoc">Stores a set of credentials into a cookie using Base64 encoding. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2c/eme__controller_8php_source.html#l00071">eme_controller.php:71</a></div></div>
<div class="ttc" id="class_eme_controller_html_aaac4be1eb27d9bcb9199e71f2dc20bc3"><div class="ttname"><a href="../../d5/d30/class_eme_controller.html#aaac4be1eb27d9bcb9199e71f2dc20bc3">EmeController\shrink_html</a></div><div class="ttdeci">shrink_html()</div><div class="ttdoc">Filter method that removes all unnecessary spaces from HTML output. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2c/eme__controller_8php_source.html#l00199">eme_controller.php:199</a></div></div>
<div class="ttc" id="class_eme_controller_html_a9ae8ac6eb50c246060f6cdbf4c82b652"><div class="ttname"><a href="../../d5/d30/class_eme_controller.html#a9ae8ac6eb50c246060f6cdbf4c82b652">EmeController\add_acronyms</a></div><div class="ttdeci">add_acronyms()</div><div class="ttdoc">Filter method that adds common acronyms. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2c/eme__controller_8php_source.html#l00141">eme_controller.php:141</a></div></div>
<div class="ttc" id="class_base_controller_html_a2a83f7656a87b749165ffa9ed37f5978"><div class="ttname"><a href="../../d8/d0d/class_base_controller.html#a2a83f7656a87b749165ffa9ed37f5978">BaseController\url_to_myself</a></div><div class="ttdeci">url_to_myself($relative=TRUE)</div><div class="ttdoc">Creates a URL to the current action. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d9f/base__controller_8php_source.html#l00527">base_controller.php:527</a></div></div>
<div class="ttc" id="class_eme_controller_html_a4d752a658ce2067dd7d1b8514fdf3771"><div class="ttname"><a href="../../d5/d30/class_eme_controller.html#a4d752a658ce2067dd7d1b8514fdf3771">EmeController\include_localized</a></div><div class="ttdeci">include_localized($filename)</div><div class="ttdoc">Includes a localized version of the requested filename if possible. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2c/eme__controller_8php_source.html#l00305">eme_controller.php:305</a></div></div>
<div class="ttc" id="class_eme_controller_html_a349348cfb9b05604994c6b98b66857ec"><div class="ttname"><a href="../../d5/d30/class_eme_controller.html#a349348cfb9b05604994c6b98b66857ec">EmeController\sanskrit_ambra</a></div><div class="ttdeci">sanskrit_ambra()</div><div class="ttdoc">Filter method that converts response contents to Ambra Angiolini&#39;s "sanskrit". </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2c/eme__controller_8php_source.html#l00224">eme_controller.php:224</a></div></div>
<div class="ttc" id="class_base_controller_html_a5cb956e06c6bb54cccaf5ff2a03c9f26"><div class="ttname"><a href="../../d8/d0d/class_base_controller.html#a5cb956e06c6bb54cccaf5ff2a03c9f26">BaseController\strip_external_php_tags</a></div><div class="ttdeci">strip_external_php_tags($php_code)</div><div class="ttdoc">Strips beginning and ending delimiters from the given PHP code. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d9f/base__controller_8php_source.html#l00922">base_controller.php:922</a></div></div>
<div class="ttc" id="class_eme_controller_html_acf78078587e52535ec113e7bbfd05d95"><div class="ttname"><a href="../../d5/d30/class_eme_controller.html#acf78078587e52535ec113e7bbfd05d95">EmeController\get_credentials</a></div><div class="ttdeci">get_credentials()</div><div class="ttdoc">Returns a set of credentials previously stored into a cookie with Base64 encoding. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2c/eme__controller_8php_source.html#l00082">eme_controller.php:82</a></div></div>
<div class="ttc" id="class_eme_controller_html_a88ef165981aa850306ce50cb01331357"><div class="ttname"><a href="../../d5/d30/class_eme_controller.html#a88ef165981aa850306ce50cb01331357">EmeController\morse_encode</a></div><div class="ttdeci">morse_encode()</div><div class="ttdoc">Filter method that converts response contents to Morse code. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2c/eme__controller_8php_source.html#l00169">eme_controller.php:169</a></div></div>
<div class="ttc" id="class_email_html"><div class="ttname"><a href="../../df/d6e/class_email.html">Email</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d49/email_8php_source.html#l00007">email.php:7</a></div></div>
<div class="ttc" id="class_blocked_ip_html_a6b289972a23e9289af4818e7a18a6947"><div class="ttname"><a href="../../d0/db5/class_blocked_ip.html#a6b289972a23e9289af4818e7a18a6947">BlockedIp\is_blocked</a></div><div class="ttdeci">static is_blocked($ip_addr)</div><div class="ttdoc">Returns TRUE if ip_addr is in the blacklist, FALSE otherwise. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dca/blocked__ip_8php_source.html#l00055">blocked_ip.php:55</a></div></div>
<div class="ttc" id="class_base64_html_a7781ed67bd43225de91448825ebf35b5"><div class="ttname"><a href="../../d4/d1c/class_base64.html#a7781ed67bd43225de91448825ebf35b5">Base64\decode</a></div><div class="ttdeci">static decode($txt)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d25/base64_8php_source.html#l00010">base64.php:10</a></div></div>
<div class="ttc" id="class_eme_controller_html_a9fbd95bfcdf27d802a8c7938529a61ba"><div class="ttname"><a href="../../d5/d30/class_eme_controller.html#a9fbd95bfcdf27d802a8c7938529a61ba">EmeController\$keywords</a></div><div class="ttdeci">$keywords</div><div class="ttdoc">Keywords for the "Keywords" meta header. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2c/eme__controller_8php_source.html#l00036">eme_controller.php:36</a></div></div>
<div class="ttc" id="class_time_html_a62e4542bcd27fd269671570823452a67"><div class="ttname"><a href="../../d6/d2c/class_time.html#a62e4542bcd27fd269671570823452a67">Time\tomorrow</a></div><div class="ttdeci">static tomorrow()</div><div class="ttdoc">Returs the number of seconds elapsed from the Unix Epoch to tomorrow. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d26/time_8php_source.html#l00013">time.php:13</a></div></div>
<div class="ttc" id="class_visit_html"><div class="ttname"><a href="../../dd/dd2/class_visit.html">Visit</a></div><div class="ttdoc">Model class that represents individual visits (i.e. page requests). </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d2b/visit_8php_source.html#l00009">visit.php:9</a></div></div>
<div class="ttc" id="class_eme_controller_html_a77fc2e3619d22e9c31b8946db72af129"><div class="ttname"><a href="../../d5/d30/class_eme_controller.html#a77fc2e3619d22e9c31b8946db72af129">EmeController\check_auth</a></div><div class="ttdeci">check_auth()</div><div class="ttdoc">Filter method that checks authorization before accessing actions. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2c/eme__controller_8php_source.html#l00097">eme_controller.php:97</a></div></div>
<div class="ttc" id="class_eme_controller_html_a149eb92716c1084a935e04a8d95f7347"><div class="ttname"><a href="../../d5/d30/class_eme_controller.html#a149eb92716c1084a935e04a8d95f7347">EmeController\index</a></div><div class="ttdeci">index()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2c/eme__controller_8php_source.html#l00060">eme_controller.php:60</a></div></div>
<div class="ttc" id="class_blocked_visit_html"><div class="ttname"><a href="../../d5/db0/class_blocked_visit.html">BlockedVisit</a></div><div class="ttdoc">Model class that represents individual visits from blocked IP addresses. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/db4/blocked__visit_8php_source.html#l00012">blocked_visit.php:12</a></div></div>
<div class="ttc" id="class_time_html_adecadd7ce4bb0bb73799bc6dce3e488c"><div class="ttname"><a href="../../d6/d2c/class_time.html#adecadd7ce4bb0bb73799bc6dce3e488c">Time\next_year</a></div><div class="ttdeci">static next_year()</div><div class="ttdoc">Returs the number of seconds elapsed from the Unix Epoch to next year. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d26/time_8php_source.html#l00046">time.php:46</a></div></div>
<div class="ttc" id="class_cookie_html_afc3745a1ef9c6c60548b56cf4eb012e3"><div class="ttname"><a href="../../d6/d8a/class_cookie.html#afc3745a1ef9c6c60548b56cf4eb012e3">Cookie\set</a></div><div class="ttdeci">static set($name, $value= '', $expires=0, $path= '/', $domain=NULL, $secure=FALSE)</div><div class="ttdoc">Sets the value and other parameters of a cookie. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dfc/cookie_8php_source.html#l00022">cookie.php:22</a></div></div>
<div class="ttc" id="common_8inc_8php_html_a5a85e15b130334775e74778eff594a8a"><div class="ttname"><a href="../../d4/d9b/common_8inc_8php.html#a5a85e15b130334775e74778eff594a8a">h</a></div><div class="ttdeci">h($str)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d9b/common_8inc_8php_source.html#l00151">common.inc.php:151</a></div></div>
<div class="ttc" id="class_eme_controller_html_a2f52339da87592a266a56f695c55be26"><div class="ttname"><a href="../../d5/d30/class_eme_controller.html#a2f52339da87592a266a56f695c55be26">EmeController\load_part_contents</a></div><div class="ttdeci">load_part_contents($filename)</div><div class="ttdoc">Loads localized part contents from file. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2c/eme__controller_8php_source.html#l00278">eme_controller.php:278</a></div></div>
<div class="ttc" id="class_base_controller_html_a0bd3c066205a088747096a9537751a86"><div class="ttname"><a href="../../d8/d0d/class_base_controller.html#a0bd3c066205a088747096a9537751a86">BaseController\flash</a></div><div class="ttdeci">flash($message, $type= 'error')</div><div class="ttdoc">Shows a message to the user, with an optional type qualifier. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d9f/base__controller_8php_source.html#l00976">base_controller.php:976</a></div></div>
<div class="ttc" id="class_cookie_html_af5ea6a083ddb07beb8a30dd32e309ceb"><div class="ttname"><a href="../../d6/d8a/class_cookie.html#af5ea6a083ddb07beb8a30dd32e309ceb">Cookie\get</a></div><div class="ttdeci">static get($name)</div><div class="ttdoc">Gets the value of a cookie. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dfc/cookie_8php_source.html#l00033">cookie.php:33</a></div></div>
<div class="ttc" id="class_h_t_t_p_html_a72b15a7fdc386be5e91c4a7ae7124ac0"><div class="ttname"><a href="../../d8/dcb/class_h_t_t_p.html#a72b15a7fdc386be5e91c4a7ae7124ac0">HTTP\error</a></div><div class="ttdeci">static error($code=500, $headers=array())</div><div class="ttdoc">Redirects the request to the error page for the desired HTTP error code. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d75/http_8php_source.html#l00018">http.php:18</a></div></div>
<div class="ttc" id="class_base64_html_af8efa346aa4fda8bae4cf41a0b6889f9"><div class="ttname"><a href="../../d4/d1c/class_base64.html#af8efa346aa4fda8bae4cf41a0b6889f9">Base64\encode</a></div><div class="ttdeci">static encode($txt)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d25/base64_8php_source.html#l00005">base64.php:5</a></div></div>
<div class="ttc" id="class_eme_controller_html_a4be4055f3361d4800e16bc2e2e38cda6"><div class="ttname"><a href="../../d5/d30/class_eme_controller.html#a4be4055f3361d4800e16bc2e2e38cda6">EmeController\init</a></div><div class="ttdeci">init()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2c/eme__controller_8php_source.html#l00043">eme_controller.php:43</a></div></div>
<div class="ttc" id="class_open_graph_html"><div class="ttname"><a href="../../d1/d57/class_open_graph.html">OpenGraph</a></div><div class="ttdoc">Defines methods and properties for the Open Graph protocol. For a full description see http://ogp...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d90/opengraph_8php_source.html#l00008">opengraph.php:8</a></div></div>
<div class="ttc" id="diario__layout_8php_html_af1512ace55ecebe0df8e48dc1e423cea"><div class="ttname"><a href="../../da/d18/diario__layout_8php.html#af1512ace55ecebe0df8e48dc1e423cea">title</a></div><div class="ttdeci">print $this title</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d18/diario__layout_8php_source.html#l00004">diario_layout.php:4</a></div></div>
<div class="ttc" id="class_base_controller_html_ac31201044ed29234c71cd780e180331e"><div class="ttname"><a href="../../d8/d0d/class_base_controller.html#ac31201044ed29234c71cd780e180331e">BaseController\redirect_to</a></div><div class="ttdeci">redirect_to($params)</div><div class="ttdoc">Redirects the response to another action, or URL. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d9f/base__controller_8php_source.html#l00367">base_controller.php:367</a></div></div>
<div class="ttc" id="class_eme_controller_html_a15fe3d17231bfbe241f9063204d567c4"><div class="ttname"><a href="../../d5/d30/class_eme_controller.html#a15fe3d17231bfbe241f9063204d567c4">EmeController\$credentials</a></div><div class="ttdeci">$credentials</div><div class="ttdoc">User credentials. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2c/eme__controller_8php_source.html#l00031">eme_controller.php:31</a></div></div>
<div class="ttc" id="class_login_html_a298167a61760dffe7d3b2522c22f44d8"><div class="ttname"><a href="../../d6/ddd/class_login.html#a298167a61760dffe7d3b2522c22f44d8">Login\is_logged_in</a></div><div class="ttdeci">static is_logged_in()</div><div class="ttdoc">Returns TRUE if the current user is authenticated. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1a/login_8php_source.html#l00030">login.php:30</a></div></div>
<div class="ttc" id="class_eme_controller_html_ac5e0168679f0ce943828b9f6e82b8e40"><div class="ttname"><a href="../../d5/d30/class_eme_controller.html#ac5e0168679f0ce943828b9f6e82b8e40">EmeController\LOG_VISITS</a></div><div class="ttdeci">const LOG_VISITS</div><div class="ttdoc">Flag that determines if the controller must log the visits. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2c/eme__controller_8php_source.html#l00025">eme_controller.php:25</a></div></div>
<div class="ttc" id="class_eme_controller_html_af65ca19d22ac2d69053bfb6ce9a561d1"><div class="ttname"><a href="../../d5/d30/class_eme_controller.html#af65ca19d22ac2d69053bfb6ce9a561d1">EmeController\log_visit</a></div><div class="ttdeci">log_visit()</div><div class="ttdoc">Filter method that saves a Visit object for current request. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2c/eme__controller_8php_source.html#l00111">eme_controller.php:111</a></div></div>
<div class="ttc" id="class_eme_controller_html_abbe433382cdd930687f56c90275fcacd"><div class="ttname"><a href="../../d5/d30/class_eme_controller.html#abbe433382cdd930687f56c90275fcacd">EmeController\block_ip</a></div><div class="ttdeci">block_ip()</div><div class="ttdoc">Filter method that interrupts response generation if the client IP is blacklisted. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2c/eme__controller_8php_source.html#l00124">eme_controller.php:124</a></div></div>
<div class="ttc" id="class_base_controller_html"><div class="ttname"><a href="../../d8/d0d/class_base_controller.html">BaseController</a></div><div class="ttdoc">Abstract base class for action controllers. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d9f/base__controller_8php_source.html#l00023">base_controller.php:23</a></div></div>
<div class="ttc" id="class_eme_controller_html_a17e8263861e78f87ad581baf9e0c1ecc"><div class="ttname"><a href="../../d5/d30/class_eme_controller.html#a17e8263861e78f87ad581baf9e0c1ecc">EmeController\spot_people</a></div><div class="ttdeci">spot_people()</div><div class="ttdoc">Filter method to identify visits from known people. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2c/eme__controller_8php_source.html#l00244">eme_controller.php:244</a></div></div>
<div class="ttc" id="class_eme_controller_html_a87b032cba06009e3467abf1c8018d960"><div class="ttname"><a href="../../d5/d30/class_eme_controller.html#a87b032cba06009e3467abf1c8018d960">EmeController\$description</a></div><div class="ttdeci">$description</div><div class="ttdoc">Description for the "Description" meta header. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2c/eme__controller_8php_source.html#l00041">eme_controller.php:41</a></div></div>
<div class="ttc" id="class_eme_controller_html"><div class="ttname"><a href="../../d5/d30/class_eme_controller.html">EmeController</a></div><div class="ttdoc">Main controller class for the Emeraldion Lodge. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2c/eme__controller_8php_source.html#l00020">eme_controller.php:20</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_9e51036813d6151dfecc72d5fa7c02b3.html">Users</a></li><li class="navelem"><a class="el" href="../../dir_fd5a2e73ede5f4cd5b1ed6088cd39094.html">delphine</a></li><li class="navelem"><a class="el" href="../../dir_6a1e6d26bf2866f1067fd87a6429c69f.html">Development</a></li><li class="navelem"><a class="el" href="../../dir_9582c5b3601a4244144679cd092c4195.html">SVN</a></li><li class="navelem"><a class="el" href="../../dir_2a227124bca4b18497ef7cdcf96822c3.html">emeraldion.it</a></li><li class="navelem"><a class="el" href="../../dir_5b7f87ba37c9668057acb30ddb2e09ac.html">zelda</a></li><li class="navelem"><a class="el" href="../../dir_2853cf64ef8d4aa4831b30d98e1c5bb7.html">controllers</a></li><li class="navelem"><a class="el" href="../../dc/d2c/eme__controller_8php.html">eme_controller.php</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
